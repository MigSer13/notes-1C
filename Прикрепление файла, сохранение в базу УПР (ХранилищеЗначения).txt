Должен быть создан справочник ХранилищеФайлов для хранения файлов с реквизитами:
- Файл (Тип ХранилищеЗначения), 
- ПолноеИмяФайла (Тип Строка) (вкл. расширение)

В документе создаем реквизит СсылкаНаФайл (Тип СправочникСсылка.ХранилищеФайлов) и выводим на форму.
События этого поля: ПриОткрытии и НачалоВыбора (см. ниже)
/////////////////////////////////////////////////////////////////////////////////////


&НаСервереБезКонтекста
Функция ПолучитьДанныеФайлаСервер(СсылкаНаФайл)
	ДанныеФайла = Новый Структура;
	ДанныеФайла.Вставить("ДвоичныеДанные", СсылкаНаФайл.Файл.Получить()); 
	ДанныеФайла.Вставить("ИмяФайлаАктаСписания", СсылкаНаФайл.ПолноеИмяФайла);
    Возврат ДанныеФайла;	   
КонецФункции

&НаКлиенте
Процедура ИмяФайлаАктаСписанияОткрытие(Элемент, СтандартнаяОбработка)
	СтандартнаяОбработка = Ложь;
  	ДанныеФайла = ПолучитьДанныеФайлаСервер(Объект.СсылкаНаФайл);
	ИмяВременногоФайла = КаталогВременныхФайлов()+ ДанныеФайла.ИмяФайлаАктаСписания;
  	ДанныеФайла.ДвоичныеДанные.Записать(ИмяВременногоФайла);
	Попытка
		ЗапуститьПриложение(ИмяВременногоФайла);
	Исключение
		Сообщить("Ошибка при открытии файла: " + ОписаниеОшибки(), СтатусСообщения.Важное);
		Возврат;
	КонецПопытки;
КонецПроцедуры

&НаКлиенте
Процедура ИмяФайлаАктаСписанияНачалоВыбора(Элемент, ДанныеВыбора, СтандартнаяОбработка)
	СтандартнаяОбработка = Ложь;
		
	// Выбрать файл на диске
	ДиалогВыбораФайла = Новый ДиалогВыбораФайла(РежимДиалогаВыбораФайла.Открытие);	
	ДиалогВыбораФайла.Фильтр                  = "Все файлы|*.*";
	ДиалогВыбораФайла.Заголовок               = "Выберите файл";
	ДиалогВыбораФайла.ПредварительныйПросмотр = Ложь;
	ДиалогВыбораФайла.Расширение              = "*";
	ДиалогВыбораФайла.ИндексФильтра           = 0;
		
	// Присвоить двоичные данные реквизиту Хранилище
	Если ДиалогВыбораФайла.Выбрать() Тогда
			ДанныеВыбораФайла = Новый Структура;
			ДанныеВыбораФайла.Вставить("ПолноеИмяФайла" ,ДиалогВыбораФайла.ПолноеИмяФайла);
			ДанныеВыбораФайла.Вставить("Каталог" ,ДиалогВыбораФайла.Каталог);

			Если НЕ Объект.СсылкаНаФайл.Пустая() Тогда
				ПоказатьВопрос(Новый ОписаниеОповещения("ВопросУдаленияПрикрепленногоФайла", ЭтаФорма, ДанныеВыбораФайла), 
							"Заменить уже имеющийся файл на выбранный?", РежимДиалогаВопрос.ДаНет);	
			Иначе
				СохранитьФайлВБазу(ДиалогВыбораФайла.ПолноеИмяФайла, ДиалогВыбораФайла.Каталог);
			КонецЕсли;					
	Иначе
			Возврат;
	КонецЕсли;
КонецПроцедуры

&НаКлиенте 
Процедура ВопросУдаленияПрикрепленногоФайла(Результат, ДанныеВыбораФайла) Экспорт
	Если Результат = КодВозвратаДиалога.Нет Тогда	
		Возврат;
	КонецЕсли;
		
	УдалитьПрошлыйФайл(Объект.СсылкаНаФайл);
	Объект.СсылкаНаФайл = Неопределено;
	СохранитьФайлВБазу(ДанныеВыбораФайла.ПолноеИмяФайла, ДанныеВыбораФайла.Каталог);
КонецПроцедуры

&НаСервереБезКонтекста
Процедура УдалитьПрошлыйФайл(СсылкаНаФайл)
	ОбъектФайл = СсылкаНаФайл.ПолучитьОбъект();
	ОбъектФайл.Удалить();
КонецПроцедуры
 
&НаКлиенте 
Процедура СохранитьФайлВБазу(ПолноеИмяФайла, Каталог)
	ИмяФайлаАктаСписания = СтрЗаменить(ПолноеИмяФайла, Каталог, "");
	ВнешнийФайл = Новый ДвоичныеДанные(ПолноеИмяФайла);	
	Объект.СсылкаНаФайл = ПолучитьНовуюСсылкуНаФайл(ИмяФайлаАктаСписания, ВнешнийФайл);	
КонецПроцедуры
 
&НаСервереБезКонтекста
Функция ПолучитьНовуюСсылкуНаФайл(ИмяФайлаАктаСписания, ВнешнийФайл)
	НовыйОбъектФайл = Справочники.цка_ХранилищеФайлов.СоздатьЭлемент();		
	НовыйОбъектФайл.Файл = Новый ХранилищеЗначения(ВнешнийФайл);
	НовыйОбъектФайл.ПолноеИмяФайла = ИмяФайлаАктаСписания;
	НовыйОбъектФайл.Наименование = ИмяФайлаАктаСписания;
	НовыйОбъектФайл.Записать(); 
	Возврат НовыйОбъектФайл.Ссылка;
КонецФункции  


/////////////////////////////////////////////////////////////////////////////// 
&НаСервереБезКонтекста
Функция СохранитьВременныйФайл(ИмяФайла, СсылкаНаФайл)
	ЗначениеВФайл(ИмяФайла, ПолучитьНавигационнуюСсылку(СсылкаНаФайл, "Файл"));
КонецФункции


